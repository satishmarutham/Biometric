package com.centris.util.SQLUtils;

public class ExpenseReportSqlUtil {

	public static final String GET_ALL_ACADAMICYEARS = "select * from hrms_accyear ";
	public static final String GET_EXPENSES_MANAGER_WISE = "select ex.year,MONTHNAME(STR_TO_DATE(ex.month,'%m'))as monthname,ex.ManagerCode,ex.Local_conveyance,ex.Travel_expenses,ex.Staff_welfare,ex.Telephone_expenses,ex.Purchases,ex.other_work_expenses,ex.Miscellaneous,ex.Total_amount_claimed,ex.Advance_paid,ex.Balance,e.First_Name as empname,(select concat(m.FirstName,'-',ee.bioid) from hrms_employee ee,hrms_manager m  where m.ManagerCode=ex.ManagerCode and ee.EMPID=m.EMPID ) as manager,(case when ex.Total_amount_approved IS NULL THEN '-' ELSE ex.Total_amount_approved END)as apprvedamt,(case when ex.isManagerApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvmang,(case when ex.isDirectorApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvdir,(case when ex.isAccountApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvaccnt,(case when ex.directorApprovedDate IS NULL THEN '-' ELSE substr(ex.directorApprovedDate,1,10) END)as direapprvdate,(case when ex.accountApprovedDate IS NULL THEN '-' ELSE substr(ex.accountApprovedDate,1,10) END)as accntappvdate,substr(ex.createtime,1,10) as posteddate,(case when ex.managerApprovedDate IS NULL THEN '-' ELSE substr(ex.managerApprovedDate,1,10) END)as mangapprvdate,(case when ex.ApprovedAccountCode IS NULL THEN '-' ELSE  (select e2.First_Name from hrms_employee e2,hrms_user u where e2.EMPID=u.empId and u.userCode=ex.ApprovedAccountCode )END) as appradminname,(case when ex.isDirectorApproved='N' THEN '-' ELSE (select e.First_Name from hrms_employee e,hrms_director d where d.EMPID=e.EMPID and  d.DirectorCode=?) END) as apprvdirename from  hrms_monthly_expense ex  left outer join hrms_employee e on e.EMPID=ex.createdby   where ex.ManagerCode in (select  ManagerCode from hrms_manager_director_mapping where DirectorCode=?)and isManagerApproved like ? and ex.year in (select AccadamicYear from hrms_accyear where AccyearCode=?) and  ex.month like ? order by ex.ManagerCode,ex.month asc ";
	public static final String GET_EXPENSES_PROJECT_WISE = "select ex.year,MONTHNAME(STR_TO_DATE(ex.month,'%m'))as monthname,ex.ProjectCode,ex.Local_conveyance,ex.Travel_expenses,ex.Staff_welfare,ex.Telephone_expenses,ex.Purchases,ex.other_work_expenses,ex.Miscellaneous,ex.Total_amount_claimed,ex.Advance_paid,ex.Balance,e.First_Name as empname,concat(p.Project_Name,' - ',p.ProjectRefCode) as projectname,(select m.FirstName from hrms_employee ee,hrms_manager m  where m.ManagerCode=ex.ManagerCode and ee.EMPID=m.EMPID ) as manager,(case when ex.Total_amount_approved IS NULL THEN '-' ELSE ex.Total_amount_approved END)as apprvedamt,(case when ex.isManagerApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvmang,(case when ex.isDirectorApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvdir,(case when ex.isAccountApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvaccnt,(case when ex.directorApprovedDate IS NULL THEN '-' ELSE substr(ex.directorApprovedDate,1,10) END)as direapprvdate,(case when ex.accountApprovedDate IS NULL THEN '-' ELSE substr(ex.accountApprovedDate,1,10) END)as accntappvdate,substr(ex.createtime,1,10) as posteddate,(case when ex.managerApprovedDate IS NULL THEN '-' ELSE substr(ex.managerApprovedDate,1,10) END)as mangapprvdate,(case when ex.ApprovedAccountCode IS NULL THEN '-' ELSE  (select e2.First_Name from hrms_employee e2,hrms_user u where e2.EMPID=u.empId and u.userCode=ex.ApprovedAccountCode )END) as appradminname,(case when ex.isDirectorApproved='N' THEN '-' ELSE (select e.First_Name from hrms_employee e,hrms_director d where d.EMPID=e.EMPID and  d.DirectorCode=?) END) as apprvdirename from   hrms_monthly_expense ex left outer join hrms_project p on p.ProjectCode = ex.ProjectCode left outer join hrms_employee e on e.EMPID=ex.createdby where ex.ManagerCode in (select  ManagerCode from hrms_manager_director_mapping where DirectorCode=?)and isManagerApproved like ? and ex.year in (select AccadamicYear from hrms_accyear where AccyearCode=?) and  ex.month like ? order by ex.ProjectCode,ex.month  asc ";

	public static final String GET_EXPENSES_FOR_DOWNLOAD_MANAGER_WISE = "select ex.year,MONTHNAME(STR_TO_DATE(ex.month,'%m'))as monthname,ex.ManagerCode,ex.Local_conveyance,ex.Travel_expenses,ex.Staff_welfare,ex.Telephone_expenses,ex.Purchases,ex.other_work_expenses,ex.Miscellaneous,ex.Total_amount_claimed,ex.Advance_paid,ex.Balance,e.First_Name as empname,(select concat(m.FirstName,'-',ee.bioid) from hrms_employee ee,hrms_manager m  where m.ManagerCode=ex.ManagerCode and ee.EMPID=m.EMPID ) as manager,(case when ex.Total_amount_approved IS NULL THEN '-' ELSE ex.Total_amount_approved END)as apprvedamt,(case when ex.isManagerApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvmang,(case when ex.isDirectorApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvdir,(case when ex.isAccountApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvaccnt,(case when ex.directorApprovedDate IS NULL THEN '-' ELSE substr(ex.directorApprovedDate,1,10) END)as direapprvdate,(case when ex.accountApprovedDate IS NULL THEN '-' ELSE substr(ex.accountApprovedDate,1,10) END)as accntappvdate,substr(ex.createtime,1,10) as posteddate,(case when ex.managerApprovedDate IS NULL THEN '-' ELSE substr(ex.managerApprovedDate,1,10) END)as mangapprvdate,(case when ex.ApprovedAccountCode IS NULL THEN '-' ELSE  (select e2.First_Name from hrms_employee e2,hrms_user u where e2.EMPID=u.empId and u.userCode=ex.ApprovedAccountCode )END) as appradminname,(case when ex.isDirectorApproved='N' THEN '-' ELSE (select e.First_Name from hrms_employee e,hrms_director d where d.EMPID=e.EMPID and  d.DirectorCode=?) END) as apprvdirename from   hrms_monthly_expense ex  left outer join hrms_employee e on e.EMPID=ex.createdby where ex.ManagerCode in (select  ManagerCode from hrms_manager_director_mapping where DirectorCode=?) and isManagerApproved like ? and ex.year in (select AccadamicYear from hrms_accyear where AccyearCode=?) and  ex.month like ? order by ex.ManagerCode,ex.month  asc ";
	public static final String GET_EXPENSES_FOR_DOWNLOAD_PROJECT_WISE = "select ex.year,MONTHNAME(STR_TO_DATE(ex.month,'%m'))as monthname,ex.ProjectCode,ex.ManagerCode,ex.Local_conveyance,ex.Travel_expenses,ex.Staff_welfare,ex.Telephone_expenses,ex.Purchases,ex.other_work_expenses,ex.Miscellaneous,ex.Total_amount_claimed,ex.Advance_paid,ex.Balance,e.First_Name as empname,concat(p.Project_Name,' - ',p.ProjectRefCode )as projectname,(select m.FirstName from hrms_manager m  where m.ManagerCode=ex.ManagerCode) as manager,(case when ex.Total_amount_approved IS NULL THEN '-' ELSE ex.Total_amount_approved END)as apprvedamt,(case when ex.isManagerApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvmang,(case when ex.isDirectorApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvdir,(case when ex.isAccountApproved='Y' THEN 'Approved' ELSE 'Not Approved' END)as isappvaccnt,(case when ex.directorApprovedDate IS NULL THEN '-' ELSE substr(ex.directorApprovedDate,1,10) END)as direapprvdate,(case when ex.accountApprovedDate IS NULL THEN '-' ELSE substr(ex.accountApprovedDate,1,10) END)as accntappvdate,substr(ex.createtime,1,10) as posteddate,(case when ex.managerApprovedDate IS NULL THEN '-' ELSE substr(ex.managerApprovedDate,1,10) END)as mangapprvdate,(case when ex.ApprovedAccountCode IS NULL THEN '-' ELSE  (select e2.First_Name from hrms_employee e2,hrms_user u where e2.EMPID=u.empId and u.userCode=ex.ApprovedAccountCode )END) as appradminname,(case when ex.isDirectorApproved='N' THEN '-' ELSE (select e.First_Name from hrms_employee e,hrms_director d where d.EMPID=e.EMPID and  d.DirectorCode=?) END) as apprvdirename from   hrms_monthly_expense ex left outer join hrms_project p on p.ProjectCode = ex.ProjectCode left outer join hrms_employee e on e.EMPID=ex.createdby where ex.ManagerCode in (select  ManagerCode from hrms_manager_director_mapping where DirectorCode=?) and isManagerApproved like ? and ex.year in (select AccadamicYear from hrms_accyear where AccyearCode=?) and  ex.month like ? order by ex.ProjectCode,ex.month  asc ";

}
